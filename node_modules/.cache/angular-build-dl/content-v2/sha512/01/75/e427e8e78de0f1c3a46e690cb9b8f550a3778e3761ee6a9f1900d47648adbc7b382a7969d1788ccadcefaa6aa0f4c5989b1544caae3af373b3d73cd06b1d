(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3XSl":function(e,t,r){"use strict";r.r(t);var n=r("mrSG"),a=r("8Y7J"),s=r("SVse"),i=r("iInd"),l=r("8rEH"),o=r("7kcP"),c=r("OIZN"),d=r("P4hB"),m=r("TSSN"),p=r("GqWp"),u=r("9Vv1"),h=r("Jixh"),g=r("/q54"),f=r("AL3R"),b=r("AytR");let x=class{constructor(e,t,r,n,a,s,i){this.route=e,this.router=t,this.logger=r,this.userManagementService=n,this.translate=a,this.location=s,this.media=i,this.displayedColumns=u.a.COLUMN_DETAILS_USERLIST_PAGE,this.usersDetails=[],this.showPopupIfUserDoesNotExists=!0,this.lang=u.a.SUPPORTED_LANGUAGES,this.hasEditPermissions=!0,this.hasAddPermissions=!0,this.starHubUserToc="",this.starHubUserTocName="",this.tocs=[],this.currentScreenWidth="",this.showToolbarButtons=!0,this.defaultLang=u.a.DEFAULT_LANGUAGE,a.addLangs(this.lang),a.setDefaultLang(this.defaultLang),this.flexMediaWatcher=i.media$.subscribe(e=>{e.mqAlias!==this.currentScreenWidth&&(this.currentScreenWidth=e.mqAlias,this.setupTable())})}get defaultLang(){return this._defaultLang}set defaultLang(e){this._defaultLang=e}setupTable(){this.displayedColumns=u.a.COLUMN_DETAILS_USERLIST_PAGE,this.currentScreenWidth==u.a.SCREEN_SIZE_VERY_SMALL||this.currentScreenWidth==u.a.SCREEN_SIZE_SMALL?(this.hasEditPermissions?this.displayedColumns=u.a.COLUMN_DETAILS_USERLIST_SMALL_PAGE:this.displayedColumns=u.a.COLUMN_DETAILS_USERLIST_SMALL_PAGE_NO_EDITPERMISSION,this.showToolbarButtons=!1):(this.hasEditPermissions?this.displayedColumns=u.a.COLUMN_DETAILS_USERLIST_PAGE:this.displayedColumns=u.a.COLUMN_DETAILS_USERLIST_PAGE_NO_EDITPERMISSION,this.showToolbarButtons=!0)}ngOnInit(){this.defaultPageSize=u.a.DEFAULT_PAGE_SIZE,this.starHubUserToc="AW",this.setupTable(),this.userDetailsdataSource=new l.a(this.usersDetails);let e=localStorage.getItem("loggedPageSize");this.loggedPageSize=null!=e?e:this.defaultPageSize.toString(),this.getTocs(),this.getUsersDetails(this.starHubUserToc),this.pageSizeOptions=u.a.PAGE_SIZE_OPTION}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.userDetailsdataSource.filter=this.searchKey.trim().toLowerCase()}sortData(e){var t;null!=localStorage.getItem("loggedPageSize")&&(t=localStorage.getItem("loggedPageSize")),localStorage.clear(),e.active==u.a.COLUMN_HEADER_FIRSTNAME?localStorage.setItem(u.a.COLUMN_HEADER_FIRSTNAME,e.direction):e.active==u.a.COLUMN_HEADER_LASTNAME?localStorage.setItem(u.a.COLUMN_HEADER_LASTNAME,e.direction):e.active==u.a.COLUMN_HEADER_STATUS?localStorage.setItem(u.a.COLUMN_HEADER_STATUS,e.direction):e.active==u.a.COLUMN_HEADER_EMPLOYEED_ID&&localStorage.setItem(u.a.COLUMN_HEADER_EMPLOYEED_ID,e.direction),null!=t&&localStorage.setItem("loggedPageSize",t)}getPageSize(e){e.pageSize!=this.defaultPageSize&&localStorage.setItem("loggedPageSize",e.pageSize.toString())}addTISUserClick(){this.router.navigate([u.a.USER_FORM])}getTocs(){this.userManagementService.getTocs().subscribe(e=>{if(null!=e){if(e.length>0){this.tocs=e;let t=this.tocs.filter(e=>e.internalTocCode==this.starHubUserToc);if(null!=t&&t.length>0){let e=t[0];this.starHubUserTocName=e.toc}}}else this.tocs=[]},e=>{this.logger.error(e)})}getUsersDetails(e){this.usersDetails=[],this.userManagementService.getUsersDetails(e).subscribe(e=>{null!=e&&e.length>0&&(this.usersDetails=e,this.usersDetails.forEach(e=>{null==e.terminationDate?e.status=u.a.USER_ACTIVE:e.status=u.a.USER_DELETED}),this.usersDetails.sort((e,t)=>e.lastName>t.lastName?1:-1)),this.userDetailsdataSource=new l.a(this.usersDetails),this.userDetailsdataSource.paginator=this.paginator,this.userDetailsdataSource.sort=this.sort},e=>{this.userDetailsdataSource=new l.a(this.usersDetails),this.logger.error(e)})}pageEvent(e){}logout(){if(f.a.signOut({global:!0}),null==f.a.currentUserInfo()){localStorage.clear();const e=window.location.href;window.location.href=b.a.auth_ui_url+"?redirect="+e}}getUserDetails(e,t){this.userManagementService.getUserDetails(e,t).subscribe(e=>{let t=[];null!=e&&e.length>0&&(t=e,this.router.navigate([u.a.USER_FORM,u.a.EDIT,t[0].toc,t[0].employeeId]))},e=>{this.logger.error(e),this.errorMessagelogging=e,this.errorMessagelogging.errorMessage.includes("$")&&this.errorMessagelogging.errorMessage.split("$")[0].includes(u.a.HTTP_STATUS_PAGE_NOT_FOUND.toString())&&(this.showPopupIfUserDoesNotExists=!1,alert(h.a.MESSAGE_USERID_CANNOT_EDITED))})}};x.ctorParameters=()=>[{type:i.a},{type:i.b},{type:d.b},{type:p.a},{type:m.c},{type:s.g},{type:g.a}],n.__decorate([Object(a.lb)(c.a,{static:!1}),n.__metadata("design:type",c.a)],x.prototype,"paginator",void 0),n.__decorate([Object(a.lb)(o.a,{static:!1}),n.__metadata("design:type",o.a)],x.prototype,"sort",void 0),x=n.__decorate([Object(a.n)({selector:"app-userlist",template:n.__importDefault(r("p+MA")).default,styles:[n.__importDefault(r("mW/4")).default]}),n.__metadata("design:paramtypes",[i.a,i.b,d.b,p.a,m.c,s.g,g.a])],x);const S=[{path:"",component:x,resolve:{landingPage:r("q7wn").a}}];let E=class{};E=n.__decorate([Object(a.J)({imports:[i.c.forChild(S)],exports:[i.c]})],E);var _=r("5dmV"),w=r("ZAI4"),D=r("IheW"),y=r("s7LF");r.d(t,"userListModule",(function(){return C}));let C=class{};C=n.__decorate([Object(a.J)({imports:[s.b,_.a,y.f,y.k,E,m.b.forRoot({loader:{provide:m.a,useFactory:w.b,deps:[D.c]}}),d.a.forRoot(b.a.logging)],declarations:[x]})],C)},"mW/4":function(e,t,r){"use strict";r.r(t),t.default="/* Class file for user list */\r\ntable {\r\n    width: 100%;\r\n  }\r\n.hide {\r\n      display: none;\r\n  }\r\nmat-footer-row mat-footer-cell {\r\n      -webkit-box-pack: center;\r\n              justify-content: center;\r\n      font-style:italic;\r\n  }\r\n.headerFieldset {\r\n      background-color:#C5C5BF;\r\n      line-height: 20%;\r\n      border:1px solid #666;\r\n      border-radius:10px;\r\n      box-shadow:0 0 10px #666;\r\n  }\r\n.mat-toolbar {\r\n  /* position: relative; */\r\n  background-color: #3C3C35;\r\n  border:1px solid #666;\r\n  border-radius:10px;\r\n  box-shadow:0 0 10px #666;\r\n}\r\n.button:hover {\r\n  background: whitesmoke;\r\n}\r\n.filler {\r\n    -webkit-box-flex: 1;\r\n            flex: 1 1 auto;\r\n }\r\n.search-form-field {\r\n    width: 99%;\r\n    margin-left: 0px;\r\n    padding: 5px 10px;\r\n    background-color: white;\r\n    border-radius: 5px;\r\n}\r\n.mat-cell-id {\r\n  min-width: 10px;\r\n  /* max-width: 150px; */\r\n}\r\n.mat-table-scroll {\r\n max-height: 500px;\r\n /* height: 550px; */\r\n overflow: auto;\r\n border:0px solid #666;\r\n border-radius:2px;\r\n box-shadow:0 0 10px #666;\r\n}\r\n.mat-cell {\r\n  margin-left: 10px;\r\n  text-align: left;\r\n  /* padding: 8px 8px 8px 0; */\r\n}\r\n.mat-cell-headers {\r\n  margin-left: 15px;\r\n  text-align: left;\r\n  /* padding: 8px 8px 8px 0; */\r\n}\r\n.mat-cell-headeraction {\r\n  max-width: 60px;\r\n  width: 60px;\r\n  margin-right: 1.5%;\r\n}\r\n.search-form-field div.mat-form-field-underline {\r\n    display: none;\r\n}\r\n.search-form-field div.mat-form-field-infix {\r\n   border-top: 0px;\r\n}\r\n.search-form-field div.mat-form-field-wrapper {\r\n   padding-bottom : 0px;\r\n}\r\n.search-form-field div.mat-form-field-suffix button {\r\n   height: 32px;\r\n   width: 32px;\r\n}\r\n.mat-row:nth-child(even){\r\n    background-color:#E1E1E1;\r\n    }\r\n.mat-row:nth-child(odd){\r\n    background-color:#EFEFEF;\r\n    }\r\n.far-end{\r\n    font-size: medium;\r\n    padding-left: 7px;\r\n    padding-top: 7px;\r\n    display: inline-grid;\r\n    margin-bottom: auto;\r\n    color: white;\r\n    font-style: italic;\r\n    }\r\n.space-reducer{\r\n    max-height: 20px;\r\n}\r\n.icon-color{\r\n  background-color: white;\r\n}\r\n.application-titlebar-text-style{\r\n    /* color: white;\r\n    border: transparent;\r\n    font-size: medium; */\r\n    width: auto;\r\n}\r\n.mat-button:hover {\r\n  background: #455a64;\r\n}\r\n.application-titlebar-text-style1{\r\n  color: white;\r\n  font-size: medium;\r\n  text-align: center;\r\n  background-color: transparent;\r\n  border: transparent;\r\n}\r\n.lds-ellipsis {\r\n    position: absolute;\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n.lds-ellipsis div {\r\n    position: absolute;\r\n    top: 33px;\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    background:#3C3C35;\r\n    -webkit-animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n            animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n  }\r\n.lds-ellipsis div:nth-child(1) {\r\n    left: 8px;\r\n    -webkit-animation: lds-ellipsis1 0.6s infinite;\r\n            animation: lds-ellipsis1 0.6s infinite;\r\n  }\r\n.lds-ellipsis div:nth-child(2) {\r\n    left: 8px;\r\n    -webkit-animation: lds-ellipsis2 0.6s infinite;\r\n            animation: lds-ellipsis2 0.6s infinite;\r\n  }\r\n.lds-ellipsis div:nth-child(3) {\r\n    left: 32px;\r\n    -webkit-animation: lds-ellipsis2 0.6s infinite;\r\n            animation: lds-ellipsis2 0.6s infinite;\r\n  }\r\n.lds-ellipsis div:nth-child(4) {\r\n    left: 56px;\r\n    -webkit-animation: lds-ellipsis3 0.6s infinite;\r\n            animation: lds-ellipsis3 0.6s infinite;\r\n  }\r\n@-webkit-keyframes lds-ellipsis1 {\r\n    0% {\r\n      -webkit-transform: scale(0);\r\n              transform: scale(0);\r\n    }\r\n    100% {\r\n      -webkit-transform: scale(1);\r\n              transform: scale(1);\r\n    }\r\n  }\r\n@keyframes lds-ellipsis1 {\r\n    0% {\r\n      -webkit-transform: scale(0);\r\n              transform: scale(0);\r\n    }\r\n    100% {\r\n      -webkit-transform: scale(1);\r\n              transform: scale(1);\r\n    }\r\n  }\r\n@-webkit-keyframes lds-ellipsis3 {\r\n    0% {\r\n      -webkit-transform: scale(1);\r\n              transform: scale(1);\r\n    }\r\n    100% {\r\n      -webkit-transform: scale(0);\r\n              transform: scale(0);\r\n    }\r\n  }\r\n@keyframes lds-ellipsis3 {\r\n    0% {\r\n      -webkit-transform: scale(1);\r\n              transform: scale(1);\r\n    }\r\n    100% {\r\n      -webkit-transform: scale(0);\r\n              transform: scale(0);\r\n    }\r\n  }\r\n@-webkit-keyframes lds-ellipsis2 {\r\n    0% {\r\n      -webkit-transform: translate(0, 0);\r\n              transform: translate(0, 0);\r\n    }\r\n    100% {\r\n      -webkit-transform: translate(24px, 0);\r\n              transform: translate(24px, 0);\r\n    }\r\n  }\r\n@keyframes lds-ellipsis2 {\r\n    0% {\r\n      -webkit-transform: translate(0, 0);\r\n              transform: translate(0, 0);\r\n    }\r\n    100% {\r\n      -webkit-transform: translate(24px, 0);\r\n              transform: translate(24px, 0);\r\n    }\r\n  }"},"p+MA":function(e,t,r){"use strict";r.r(t),t.default='\x3c!-- Material toolbar Header --\x3e\r\n<mat-toolbar color="primary">\r\n  <span><img src="./assets/STAR_logo.png" style="width:50px;height:50px;padding-top: 10px;"></span>\r\n  <div class="far-end">\r\n    <span class="space-reducer"> {{\'HOME.Application name\' | translate}}</span>\r\n    <span class="space-reducer"> {{starHubUserTocName}}</span>\r\n  </div>\r\n  <span class="filler"></span>\r\n  <ng-container *ngIf="hasAddPermissions">\r\n    <button mat-button (click)="addTISUserClick()" *ngIf="showToolbarButtons" type="button"\r\n      class="application-titlebar-text-style">\r\n      <mat-icon>add</mat-icon>\r\n      <span class="application-titlebar-text-style">{{\'Maintain_User.Add\' | translate}}</span>\r\n    </button>\r\n  </ng-container>\r\n  <button mat-button type="button" *ngIf="showToolbarButtons" (click)="logout()" class="application-titlebar-text-style">\r\n    <mat-icon>logout</mat-icon>\r\n    <span class="application-titlebar-text-style">{{\'HOME.Logout\' | translate}}</span>\r\n  </button>\r\n  <button mat-button type="button" *ngIf="showToolbarButtons" class="application-titlebar-text-style">\r\n    <mat-icon>help</mat-icon>\r\n    <span class="application-titlebar-text-style">{{\'HOME.Help\' | translate}}</span>\r\n  </button>\r\n  <button mat-icon-button *ngIf="!showToolbarButtons" [matMenuTriggerFor]="menu"\r\n    class="application-titlebar-text-style1">\r\n    <mat-icon>more_vert</mat-icon>\r\n  </button>\r\n\r\n</mat-toolbar>\r\n<mat-menu #menu="matMenu">\r\n  <ng-container *ngIf="hasAddPermissions">\r\n    <button mat-menu-item (click)="addTISUserClick()">\r\n      <span>{{\'Maintain_User.Add\' | translate}}</span>\r\n    </button>\r\n  </ng-container>\r\n  <button mat-menu-item (click)="logout()" >\r\n    <span>{{\'HOME.Logout\' | translate}}</span>\r\n  </button>\r\n  <button mat-menu-item>\r\n    <span>{{\'HOME.Help\' | translate}}</span>\r\n  </button>\r\n</mat-menu>\r\n\r\n\x3c!-- Header message for screen --\x3e\r\n<fieldset class="headerFieldset">\r\n  <h2 style="text-align:center;">{{\'Maintain_User.Heading\' | translate}}</h2>\r\n</fieldset>\r\n<div class="search-div">\r\n  <mat-form-field class="search-form-field">\r\n    <input matInput [(ngModel)]="searchKey" placeholder="Filter" autocomplete="off" (keyup)="applyFilter()">\r\n    <Button mat-button matSuffix mat-icon-button aria-label="Clear" *ngIf="searchKey" (click)="onSearchClear()">\r\n      <mat-icon>close</mat-icon>\r\n    </Button>\r\n  </mat-form-field>\r\n</div>\r\n<div>\r\n  <div class="mat-table-scroll">\r\n    <table mat-table [dataSource]="userDetailsdataSource" class="mat-elevation-z8">\r\n      \x3c!-- Icon actions Column --\x3e\r\n      \x3c!-- <ng-container class="mat-cell-headeraction" matColumnDef="actions">\r\n        <mat-header-cell class="mat-cell-headeraction" *matHeaderCellDef> </mat-header-cell>\r\n        <mat-cell class="mat-cell-headeraction" *matCellDef="let row">\r\n          <button (click)="getUserDetails(row.toc, row.employeeId)">\r\n            <mat-icon matTooltip=\'Edit user details\' class="icon">edit</mat-icon>\r\n          </button>\r\n        </mat-cell>\r\n      </ng-container> --\x3e\r\n\r\n      \x3c!-- Id Column --\x3e\r\n      \x3c!-- <ng-container matColumnDef="employeeId">\r\n        <mat-header-cell class="mat-cell-headers" *matHeaderCellDef mat-sort-header> {{\'Maintain_User.Id\' | translate}}\r\n        </mat-header-cell>\r\n        <mat-cell class="mat-cell-id" *matCellDef="let element"> {{element.employeeId}} </mat-cell>\r\n      </ng-container> --\x3e\r\n\r\n      \x3c!-- First Name Column --\x3e\r\n      \x3c!-- <ng-container matColumnDef="firstName">\r\n        <mat-header-cell class="mat-cell-headers" *matHeaderCellDef mat-sort-header>\r\n          {{\'Maintain_User.FirstName\' | translate}} </mat-header-cell>\r\n        <mat-cell *matCellDef="let element"> {{element.firstName}} </mat-cell>\r\n      </ng-container> --\x3e\r\n\r\n      \x3c!-- Last Name Column --\x3e\r\n      \x3c!-- <ng-container matColumnDef="lastName">\r\n        <mat-header-cell class="mat-cell-headers" *matHeaderCellDef mat-sort-header>\r\n          {{\'Maintain_User.LastName\' | translate}} </mat-header-cell>\r\n        <mat-cell *matCellDef="let element"> {{element.lastName}} </mat-cell>\r\n      </ng-container> --\x3e\r\n\r\n      \x3c!-- TOC Column --\x3e\r\n      \x3c!-- <ng-container matColumnDef="status">\r\n        <mat-header-cell class="mat-cell-headers" *matHeaderCellDef mat-sort-header>\r\n          {{\'Maintain_User.Status\' | translate}} </mat-header-cell>\r\n        <mat-cell *matCellDef="let element"> {{element.status}} </mat-cell>\r\n      </ng-container> --\x3e\r\n\r\n      \x3c!-- Footer to show message loading if list is empty --\x3e\r\n      \x3c!-- <ng-container matColumnDef="loading">\r\n        <mat-footer-cell *matFooterCellDef colspan=6> {{\'Maintain_User.LoadingData\' | translate}} </mat-footer-cell>\r\n      </ng-container> --\x3e\r\n      \x3c!-- Footer to show message no data if list is empty --\x3e\r\n      \x3c!-- <ng-container matColumnDef="noData">\r\n        <mat-footer-cell *matFooterCellDef colspan=6> {{\'Maintain_User.NoData\' | translate}} </mat-footer-cell>\r\n      </ng-container> --\x3e\r\n\r\n      <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>\r\n      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>\r\n\r\n      \x3c!-- <mat-footer-row *matFooterRowDef="[\'noData\']"\r\n        [ngClass]="{\'hide\':!(userDetailsdataSource!=null &&  userDetailsdataSource.data.length== 0)}"></mat-footer-row> --\x3e\r\n    </table>\r\n    \x3c!-- Paging in userlist page --\x3e\r\n    <mat-paginator [pageSizeOptions]="pageSizeOptions" [pageSize]="loggedPageSize"\r\n      (page)="pageEvent = getPageSize($event)" showFirstLastButtons> </mat-paginator>\r\n  </div>\r\n  \x3c!-- Show spinner while fetching data from service --\x3e\r\n  <mat-card *ngIf="userDetailsdataSource==null" style="display: flex; justify-content: center; align-items: center">\r\n    <div class="lds-ellipsis">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </mat-card>\r\n\r\n</div>'}}]);