(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3XSl":function(t,r,e){"use strict";e.r(r);var n=e("mrSG"),a=e("8Y7J"),s=e("SVse"),i=e("iInd"),l=e("8rEH"),o=e("P4hB"),c=e("TSSN"),d=e("GqWp"),p=e("9Vv1"),u=e("Jixh"),h=e("/q54"),m=e("AL3R"),g=e("AytR");let f=class{constructor(t,r,e,n,a,s,i){this.route=t,this.router=r,this.logger=e,this.userManagementService=n,this.translate=a,this.location=s,this.media=i,this.displayedColumns=p.a.COLUMN_DETAILS_USERLIST_PAGE,this.usersDetails=[],this.showPopupIfUserDoesNotExists=!0,this.lang=p.a.SUPPORTED_LANGUAGES,this.hasEditPermissions=!0,this.hasAddPermissions=!0,this.starHubUserToc="",this.starHubUserTocName="",this.tocs=[],this.currentScreenWidth="",this.showToolbarButtons=!0,this.defaultLang=p.a.DEFAULT_LANGUAGE,a.addLangs(this.lang),a.setDefaultLang(this.defaultLang),this.flexMediaWatcher=i.media$.subscribe(t=>{t.mqAlias!==this.currentScreenWidth&&(this.currentScreenWidth=t.mqAlias,this.setupTable())})}get defaultLang(){return this._defaultLang}set defaultLang(t){this._defaultLang=t}setupTable(){this.displayedColumns=p.a.COLUMN_DETAILS_USERLIST_PAGE,this.currentScreenWidth==p.a.SCREEN_SIZE_VERY_SMALL||this.currentScreenWidth==p.a.SCREEN_SIZE_SMALL?(this.hasEditPermissions?this.displayedColumns=p.a.COLUMN_DETAILS_USERLIST_SMALL_PAGE:this.displayedColumns=p.a.COLUMN_DETAILS_USERLIST_SMALL_PAGE_NO_EDITPERMISSION,this.showToolbarButtons=!1):(this.hasEditPermissions?this.displayedColumns=p.a.COLUMN_DETAILS_USERLIST_PAGE:this.displayedColumns=p.a.COLUMN_DETAILS_USERLIST_PAGE_NO_EDITPERMISSION,this.showToolbarButtons=!0)}ngOnInit(){this.defaultPageSize=p.a.DEFAULT_PAGE_SIZE,this.starHubUserToc="AW",this.setupTable();let t=localStorage.getItem("loggedPageSize");this.loggedPageSize=null!=t?t:this.defaultPageSize.toString(),this.getTocs(),this.getUsersDetails(this.starHubUserToc),this.pageSizeOptions=p.a.PAGE_SIZE_OPTION}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.userDetailsdataSource.filter=this.searchKey.trim().toLowerCase()}sortData(t){var r;null!=localStorage.getItem("loggedPageSize")&&(r=localStorage.getItem("loggedPageSize")),localStorage.clear(),t.active==p.a.COLUMN_HEADER_FIRSTNAME?localStorage.setItem(p.a.COLUMN_HEADER_FIRSTNAME,t.direction):t.active==p.a.COLUMN_HEADER_LASTNAME?localStorage.setItem(p.a.COLUMN_HEADER_LASTNAME,t.direction):t.active==p.a.COLUMN_HEADER_STATUS?localStorage.setItem(p.a.COLUMN_HEADER_STATUS,t.direction):t.active==p.a.COLUMN_HEADER_EMPLOYEED_ID&&localStorage.setItem(p.a.COLUMN_HEADER_EMPLOYEED_ID,t.direction),null!=r&&localStorage.setItem("loggedPageSize",r)}getPageSize(t){t.pageSize!=this.defaultPageSize&&localStorage.setItem("loggedPageSize",t.pageSize.toString())}addTISUserClick(){this.router.navigate([p.a.USER_FORM])}getTocs(){this.userManagementService.getTocs().subscribe(t=>{if(null!=t){if(t.length>0){this.tocs=t;let r=this.tocs.filter(t=>t.internalTocCode==this.starHubUserToc);if(null!=r&&r.length>0){let t=r[0];this.starHubUserTocName=t.toc}}}else this.tocs=[]},t=>{this.logger.error(t)})}getUsersDetails(t){this.usersDetails=[],this.userManagementService.getUsersDetails(t).subscribe(t=>{null!=t&&t.length>0&&(this.usersDetails=t,this.usersDetails.forEach(t=>{null==t.terminationDate?t.status=p.a.USER_ACTIVE:t.status=p.a.USER_DELETED}),this.usersDetails.sort((t,r)=>t.lastName>r.lastName?1:-1)),this.userDetailsdataSource=new l.a(this.usersDetails)},t=>{this.userDetailsdataSource=new l.a(this.usersDetails),this.logger.error(t)})}pageEvent(t){}logout(){if(m.a.signOut({global:!0}),null==m.a.currentUserInfo()){localStorage.clear();const t=window.location.href;window.location.href=g.a.auth_ui_url+"?redirect="+t}}getUserDetails(t,r){this.userManagementService.getUserDetails(t,r).subscribe(t=>{let r=[];null!=t&&t.length>0&&(r=t,this.router.navigate([p.a.USER_FORM,p.a.EDIT,r[0].toc,r[0].employeeId]))},t=>{this.logger.error(t),this.errorMessagelogging=t,this.errorMessagelogging.errorMessage.includes("$")&&this.errorMessagelogging.errorMessage.split("$")[0].includes(p.a.HTTP_STATUS_PAGE_NOT_FOUND.toString())&&(this.showPopupIfUserDoesNotExists=!1,alert(u.a.MESSAGE_USERID_CANNOT_EDITED))})}};f.ctorParameters=()=>[{type:i.a},{type:i.b},{type:o.b},{type:d.a},{type:c.c},{type:s.g},{type:h.a}],f=n.__decorate([Object(a.n)({selector:"app-userlist",template:n.__importDefault(e("p+MA")).default,styles:[n.__importDefault(e("mW/4")).default]}),n.__metadata("design:paramtypes",[i.a,i.b,o.b,d.a,c.c,s.g,h.a])],f);const b=[{path:"",component:f,resolve:{landingPage:e("q7wn").a}}];let S=class{};S=n.__decorate([Object(a.J)({imports:[i.c.forChild(b)],exports:[i.c]})],S);var E=e("5dmV"),x=e("ZAI4"),_=e("IheW"),w=e("s7LF");e.d(r,"userListModule",(function(){return T}));let T=class{};T=n.__decorate([Object(a.J)({imports:[s.b,E.a,w.f,w.k,S,c.b.forRoot({loader:{provide:c.a,useFactory:x.b,deps:[_.c]}}),o.a.forRoot(g.a.logging)],declarations:[f]})],T)},"mW/4":function(t,r,e){"use strict";e.r(r),r.default="/* Class file for user list */\r\ntable {\r\n    width: 100%;\r\n  }\r\n.hide {\r\n      display: none;\r\n  }\r\nmat-footer-row mat-footer-cell {\r\n      -webkit-box-pack: center;\r\n              justify-content: center;\r\n      font-style:italic;\r\n  }\r\n.headerFieldset {\r\n      background-color:#C5C5BF;\r\n      line-height: 20%;\r\n      border:1px solid #666;\r\n      border-radius:10px;\r\n      box-shadow:0 0 10px #666;\r\n  }\r\n.mat-toolbar {\r\n  /* position: relative; */\r\n  background-color: #3C3C35;\r\n  border:1px solid #666;\r\n  border-radius:10px;\r\n  box-shadow:0 0 10px #666;\r\n}\r\n.button:hover {\r\n  background: whitesmoke;\r\n}\r\n.filler {\r\n    -webkit-box-flex: 1;\r\n            flex: 1 1 auto;\r\n }\r\n.search-form-field {\r\n    width: 99%;\r\n    margin-left: 0px;\r\n    padding: 5px 10px;\r\n    background-color: white;\r\n    border-radius: 5px;\r\n}\r\n.mat-cell-id {\r\n  min-width: 10px;\r\n  /* max-width: 150px; */\r\n}\r\n.mat-table-scroll {\r\n max-height: 500px;\r\n /* height: 550px; */\r\n overflow: auto;\r\n border:0px solid #666;\r\n border-radius:2px;\r\n box-shadow:0 0 10px #666;\r\n}\r\n.mat-cell {\r\n  margin-left: 10px;\r\n  text-align: left;\r\n  /* padding: 8px 8px 8px 0; */\r\n}\r\n.mat-cell-headers {\r\n  margin-left: 15px;\r\n  text-align: left;\r\n  /* padding: 8px 8px 8px 0; */\r\n}\r\n.mat-cell-headeraction {\r\n  max-width: 60px;\r\n  width: 60px;\r\n  margin-right: 1.5%;\r\n}\r\n.search-form-field div.mat-form-field-underline {\r\n    display: none;\r\n}\r\n.search-form-field div.mat-form-field-infix {\r\n   border-top: 0px;\r\n}\r\n.search-form-field div.mat-form-field-wrapper {\r\n   padding-bottom : 0px;\r\n}\r\n.search-form-field div.mat-form-field-suffix button {\r\n   height: 32px;\r\n   width: 32px;\r\n}\r\n.mat-row:nth-child(even){\r\n    background-color:#E1E1E1;\r\n    }\r\n.mat-row:nth-child(odd){\r\n    background-color:#EFEFEF;\r\n    }\r\n.far-end{\r\n    font-size: medium;\r\n    padding-left: 7px;\r\n    padding-top: 7px;\r\n    display: inline-grid;\r\n    margin-bottom: auto;\r\n    color: white;\r\n    font-style: italic;\r\n    }\r\n.space-reducer{\r\n    max-height: 20px;\r\n}\r\n.icon-color{\r\n  background-color: white;\r\n}\r\n.application-titlebar-text-style{\r\n    /* color: white;\r\n    border: transparent;\r\n    font-size: medium; */\r\n    width: auto;\r\n}\r\n.mat-button:hover {\r\n  background: #455a64;\r\n}\r\n.application-titlebar-text-style1{\r\n  color: white;\r\n  font-size: medium;\r\n  text-align: center;\r\n  background-color: transparent;\r\n  border: transparent;\r\n}\r\n.lds-ellipsis {\r\n    position: absolute;\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n.lds-ellipsis div {\r\n    position: absolute;\r\n    top: 33px;\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    background:#3C3C35;\r\n    -webkit-animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n            animation-timing-function: cubic-bezier(0, 1, 1, 0);\r\n  }\r\n.lds-ellipsis div:nth-child(1) {\r\n    left: 8px;\r\n    -webkit-animation: lds-ellipsis1 0.6s infinite;\r\n            animation: lds-ellipsis1 0.6s infinite;\r\n  }\r\n.lds-ellipsis div:nth-child(2) {\r\n    left: 8px;\r\n    -webkit-animation: lds-ellipsis2 0.6s infinite;\r\n            animation: lds-ellipsis2 0.6s infinite;\r\n  }\r\n.lds-ellipsis div:nth-child(3) {\r\n    left: 32px;\r\n    -webkit-animation: lds-ellipsis2 0.6s infinite;\r\n            animation: lds-ellipsis2 0.6s infinite;\r\n  }\r\n.lds-ellipsis div:nth-child(4) {\r\n    left: 56px;\r\n    -webkit-animation: lds-ellipsis3 0.6s infinite;\r\n            animation: lds-ellipsis3 0.6s infinite;\r\n  }\r\n@-webkit-keyframes lds-ellipsis1 {\r\n    0% {\r\n      -webkit-transform: scale(0);\r\n              transform: scale(0);\r\n    }\r\n    100% {\r\n      -webkit-transform: scale(1);\r\n              transform: scale(1);\r\n    }\r\n  }\r\n@keyframes lds-ellipsis1 {\r\n    0% {\r\n      -webkit-transform: scale(0);\r\n              transform: scale(0);\r\n    }\r\n    100% {\r\n      -webkit-transform: scale(1);\r\n              transform: scale(1);\r\n    }\r\n  }\r\n@-webkit-keyframes lds-ellipsis3 {\r\n    0% {\r\n      -webkit-transform: scale(1);\r\n              transform: scale(1);\r\n    }\r\n    100% {\r\n      -webkit-transform: scale(0);\r\n              transform: scale(0);\r\n    }\r\n  }\r\n@keyframes lds-ellipsis3 {\r\n    0% {\r\n      -webkit-transform: scale(1);\r\n              transform: scale(1);\r\n    }\r\n    100% {\r\n      -webkit-transform: scale(0);\r\n              transform: scale(0);\r\n    }\r\n  }\r\n@-webkit-keyframes lds-ellipsis2 {\r\n    0% {\r\n      -webkit-transform: translate(0, 0);\r\n              transform: translate(0, 0);\r\n    }\r\n    100% {\r\n      -webkit-transform: translate(24px, 0);\r\n              transform: translate(24px, 0);\r\n    }\r\n  }\r\n@keyframes lds-ellipsis2 {\r\n    0% {\r\n      -webkit-transform: translate(0, 0);\r\n              transform: translate(0, 0);\r\n    }\r\n    100% {\r\n      -webkit-transform: translate(24px, 0);\r\n              transform: translate(24px, 0);\r\n    }\r\n  }"},"p+MA":function(t,r,e){"use strict";e.r(r),r.default='\x3c!-- Material toolbar Header --\x3e\r\n<mat-toolbar color="primary">\r\n  <span><img src="./assets/STAR_logo.png" style="width:50px;height:50px;padding-top: 10px;"></span>\r\n  <div class="far-end">\r\n    <span class="space-reducer"> {{\'HOME.Application name\' | translate}}</span>\r\n    <span class="space-reducer"> {{starHubUserTocName}}</span>\r\n  </div>\r\n  <span class="filler"></span>\r\n  <ng-container *ngIf="hasAddPermissions">\r\n    <button mat-button (click)="addTISUserClick()" *ngIf="showToolbarButtons" type="button"\r\n      class="application-titlebar-text-style">\r\n      <mat-icon>add</mat-icon>\r\n      <span class="application-titlebar-text-style">{{\'Maintain_User.Add\' | translate}}</span>\r\n    </button>\r\n  </ng-container>\r\n  <button mat-button type="button" *ngIf="showToolbarButtons" (click)="logout()" class="application-titlebar-text-style">\r\n    <mat-icon>logout</mat-icon>\r\n    <span class="application-titlebar-text-style">{{\'HOME.Logout\' | translate}}</span>\r\n  </button>\r\n  <button mat-button type="button" *ngIf="showToolbarButtons" class="application-titlebar-text-style">\r\n    <mat-icon>help</mat-icon>\r\n    <span class="application-titlebar-text-style">{{\'HOME.Help\' | translate}}</span>\r\n  </button>\r\n  <button mat-icon-button *ngIf="!showToolbarButtons" [matMenuTriggerFor]="menu"\r\n    class="application-titlebar-text-style1">\r\n    <mat-icon>more_vert</mat-icon>\r\n  </button>\r\n\r\n</mat-toolbar>\r\n<mat-menu #menu="matMenu">\r\n  <ng-container *ngIf="hasAddPermissions">\r\n    <button mat-menu-item (click)="addTISUserClick()">\r\n      <span>{{\'Maintain_User.Add\' | translate}}</span>\r\n    </button>\r\n  </ng-container>\r\n  <button mat-menu-item (click)="logout()" >\r\n    <span>{{\'HOME.Logout\' | translate}}</span>\r\n  </button>\r\n  <button mat-menu-item>\r\n    <span>{{\'HOME.Help\' | translate}}</span>\r\n  </button>\r\n</mat-menu>\r\n\r\n\x3c!-- Header message for screen --\x3e\r\n<fieldset class="headerFieldset">\r\n  <h2 style="text-align:center;">{{\'Maintain_User.Heading\' | translate}}</h2>\r\n</fieldset>\r\n<div class="search-div">\r\n  <mat-form-field class="search-form-field">\r\n    <input matInput [(ngModel)]="searchKey" placeholder="Filter" autocomplete="off" (keyup)="applyFilter()">\r\n    <Button mat-button matSuffix mat-icon-button aria-label="Clear" *ngIf="searchKey" (click)="onSearchClear()">\r\n      <mat-icon>close</mat-icon>\r\n    </Button>\r\n  </mat-form-field>\r\n</div>\r\n'}}]);